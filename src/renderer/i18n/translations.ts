export type LangKey = 'en' | 'fr';

const translations: Record<LangKey, Record<string, string>> = {
  en: {
    'app.title': 'Claude Usage',
    'app.quit': 'Quit',
    'app.settings': 'Settings',
    'app.save': 'Save',
    'app.cancel': 'Cancel',
    'app.delete': 'Delete',
    'app.confirm': 'Confirm',
    'app.back': 'Back',
    'app.next': 'Next',
    'app.close': 'Close',
    'app.refresh': 'Refresh',
    'app.loading': 'Loading...',

    // Popover
    'popover.sessionUsage': 'Session Usage',
    'popover.sessionSub': '5-hour rolling window',
    'popover.weekly': 'Weekly',
    'popover.weeklySub': 'All models',
    'popover.opus': 'Opus',
    'popover.sonnet': 'Sonnet',
    'popover.extra': 'Extra Usage',
    'popover.apiCredits': 'API Credits',
    'popover.apiSub': 'Anthropic API Console',
    'popover.remaining': 'Remaining',
    'popover.used': 'Used',
    'popover.noData': 'No data available',
    'popover.configureFirst': 'Configure your session key to start tracking',
    'popover.resetsToday': 'Resets Today',
    'popover.resets': 'Resets',
    'popover.allSystemsOperational': 'All Systems Operational',
    'popover.status.operational': 'All Systems Operational',
    'popover.status.degraded': 'Degraded Performance',
    'popover.status.major_outage': 'Major Outage',
    'popover.status.maintenance': 'Under Maintenance',

    // Setup
    'setup.title': 'Welcome to Claude Usage Tracker',
    'setup.subtitle': 'Let\'s set up your account to start tracking usage',
    'setup.step1.title': 'Get Your Session Key',
    'setup.step1.description': 'Open claude.ai in your browser, open Developer Tools (F12), go to Application > Cookies, and copy the value of "sessionKey".',
    'setup.step1.placeholder': 'Paste your session key here (sk-ant-sid01-...)',
    'setup.step2.error': 'Invalid session key. Please check and try again.',
    'setup.step2.orgFound': 'Organization found:',
    'setup.step3.title': 'All Set!',
    'setup.step3.description': 'Your account is configured. Claude Usage Tracker will now monitor your usage from the system tray.',
    'setup.done': 'Start Tracking',
    'setup.validating': 'Validating session key...',

    // Settings
    'settings.title': 'Settings',
    'settings.tab.credentials': 'Credentials',
    'settings.tab.profiles': 'Profiles',
    'settings.tab.display': 'Display',
    'settings.tab.notifications': 'Notifications',
    'settings.tab.general': 'General',
    'settings.tab.about': 'About',

    'credentials.sessionKey': 'Session Key',
    'credentials.sessionKey.description': 'Your Claude.ai session key from browser cookies',
    'credentials.sessionKey.placeholder': 'sk-ant-sid01-...',
    'credentials.validate': 'Validate',
    'credentials.validated': 'Validated',
    'credentials.orgId': 'Organization ID',
    'credentials.status': 'Status',
    'credentials.connected': 'Connected',
    'credentials.notConnected': 'Not connected',

    'profiles.title': 'Manage Profiles',
    'profiles.add': 'Add Profile',
    'profiles.name': 'Profile Name',
    'profiles.active': 'Active',
    'profiles.setActive': 'Set Active',
    'profiles.deleteConfirm': 'Are you sure you want to delete this profile?',
    'profiles.showInTray': 'Show in tray',

    'display.iconStyle': 'Icon Style',
    'display.iconStyle.battery': 'Battery',
    'display.iconStyle.progressBar': 'Progress Bar',
    'display.iconStyle.percentage': 'Percentage',
    'display.iconStyle.iconWithBar': 'Icon with Bar',
    'display.iconStyle.compact': 'Compact',
    'display.monochrome': 'Monochrome icon',
    'display.showRemaining': 'Show remaining % (vs. used %)',
    'display.displayMode': 'Display Mode',
    'display.displayMode.single': 'Active profile only',
    'display.displayMode.multi': 'All selected profiles',
    'display.restartRequired': 'A restart is required to apply display changes.',
    'display.restartLater': 'Later',
    'display.restartNow': 'Restart',

    'notifications.enable': 'Enable notifications',
    'notifications.thresholds': 'Alert thresholds',
    'notifications.threshold75': 'At 75%',
    'notifications.threshold90': 'At 90%',
    'notifications.threshold95': 'At 95%',

    'general.language': 'Language',
    'general.launchAtLogin': 'Launch at login',
    'general.refreshInterval': 'Refresh interval (seconds)',
    'general.autoStartSession': 'Auto-start session',

    'about.version': 'Version',
    'about.author': 'Author',
    'about.description': 'Real-time Claude AI usage monitoring for Windows',
    'about.github': 'GitHub',
    'about.inspiredBy': 'Inspired by the macOS version, rebuilt for Windows',
  },
  fr: {
    'app.title': 'Claude Usage',
    'app.quit': 'Quitter',
    'app.settings': 'Paramètres',
    'app.save': 'Enregistrer',
    'app.cancel': 'Annuler',
    'app.delete': 'Supprimer',
    'app.confirm': 'Confirmer',
    'app.back': 'Retour',
    'app.next': 'Suivant',
    'app.close': 'Fermer',
    'app.refresh': 'Actualiser',
    'app.loading': 'Chargement...',

    'popover.sessionUsage': 'Usage Session',
    'popover.sessionSub': 'Fenêtre glissante de 5 heures',
    'popover.weekly': 'Hebdomadaire',
    'popover.weeklySub': 'Tous les modèles',
    'popover.opus': 'Opus',
    'popover.sonnet': 'Sonnet',
    'popover.extra': 'Usage Supplémentaire',
    'popover.apiCredits': 'Crédits API',
    'popover.apiSub': 'Console API Anthropic',
    'popover.remaining': 'Restant',
    'popover.used': 'Utilisé',
    'popover.noData': 'Aucune donnée disponible',
    'popover.configureFirst': 'Configurez votre clé de session pour commencer le suivi',
    'popover.resetsToday': 'Réinitialisation aujourd\'hui',
    'popover.resets': 'Réinitialisation',
    'popover.allSystemsOperational': 'Tous les systèmes opérationnels',
    'popover.status.operational': 'Tous les systèmes opérationnels',
    'popover.status.degraded': 'Performances dégradées',
    'popover.status.major_outage': 'Panne majeure',
    'popover.status.maintenance': 'En maintenance',

    'setup.title': 'Bienvenue sur Claude Usage Tracker',
    'setup.subtitle': 'Configurons votre compte pour commencer le suivi',
    'setup.step1.title': 'Obtenez votre clé de session',
    'setup.step1.description': 'Ouvrez claude.ai dans votre navigateur, ouvrez les outils développeur (F12), allez dans Application > Cookies, et copiez la valeur de "sessionKey".',
    'setup.step1.placeholder': 'Collez votre clé de session ici (sk-ant-sid01-...)',
    'setup.step2.error': 'Clé de session invalide. Veuillez vérifier et réessayer.',
    'setup.step2.orgFound': 'Organisation trouvée :',
    'setup.step3.title': 'Tout est prêt !',
    'setup.step3.description': 'Votre compte est configuré. Claude Usage Tracker surveillera désormais votre utilisation depuis la barre des tâches.',
    'setup.done': 'Commencer le suivi',
    'setup.validating': 'Validation de la clé de session...',

    'settings.title': 'Paramètres',
    'settings.tab.credentials': 'Identifiants',
    'settings.tab.profiles': 'Profils',
    'settings.tab.display': 'Affichage',
    'settings.tab.notifications': 'Notifications',
    'settings.tab.general': 'Général',
    'settings.tab.about': 'À propos',

    'credentials.sessionKey': 'Clé de session',
    'credentials.sessionKey.description': 'Votre clé de session Claude.ai depuis les cookies du navigateur',
    'credentials.sessionKey.placeholder': 'sk-ant-sid01-...',
    'credentials.validate': 'Valider',
    'credentials.validated': 'Validée',
    'credentials.orgId': 'ID Organisation',
    'credentials.status': 'Statut',
    'credentials.connected': 'Connecté',
    'credentials.notConnected': 'Non connecté',

    'profiles.title': 'Gérer les profils',
    'profiles.add': 'Ajouter un profil',
    'profiles.name': 'Nom du profil',
    'profiles.active': 'Actif',
    'profiles.setActive': 'Activer',
    'profiles.deleteConfirm': 'Êtes-vous sûr de vouloir supprimer ce profil ?',
    'profiles.showInTray': 'Afficher dans la barre',

    'display.iconStyle': 'Style d\'icône',
    'display.iconStyle.battery': 'Batterie',
    'display.iconStyle.progressBar': 'Barre de progression',
    'display.iconStyle.percentage': 'Pourcentage',
    'display.iconStyle.iconWithBar': 'Icône avec barre',
    'display.iconStyle.compact': 'Compact',
    'display.monochrome': 'Icône monochrome',
    'display.showRemaining': 'Afficher % restant (vs. utilisé)',
    'display.displayMode': 'Mode d\'affichage',
    'display.displayMode.single': 'Profil actif uniquement',
    'display.displayMode.multi': 'Tous les profils sélectionnés',
    'display.restartRequired': 'Un redémarrage est nécessaire pour appliquer les changements.',
    'display.restartLater': 'Plus tard',
    'display.restartNow': 'Redémarrer',

    'notifications.enable': 'Activer les notifications',
    'notifications.thresholds': 'Seuils d\'alerte',
    'notifications.threshold75': 'À 75%',
    'notifications.threshold90': 'À 90%',
    'notifications.threshold95': 'À 95%',

    'general.language': 'Langue',
    'general.launchAtLogin': 'Lancer au démarrage',
    'general.refreshInterval': 'Intervalle de rafraîchissement (secondes)',
    'general.autoStartSession': 'Démarrer la session automatiquement',

    'about.version': 'Version',
    'about.author': 'Auteur',
    'about.description': 'Suivi en temps réel de l\'utilisation de Claude AI pour Windows',
    'about.github': 'GitHub',
    'about.inspiredBy': 'Inspiré de la version macOS, recréé pour Windows',
  },
};

let currentLang: LangKey = 'en';

export function setLanguage(lang: LangKey): void {
  currentLang = lang;
}

export function getLanguage(): LangKey {
  return currentLang;
}

export function t(key: string): string {
  return translations[currentLang]?.[key] ?? translations['en']?.[key] ?? key;
}

export default translations;
